#: import GameScreen View.GameScreen.game_screen.GameScreen

<GameScreen>:
    name: "Game"

    MainBox:
        
        TopBoxH:

            MDBoxLayout:
                size_hint_x: 0.1
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: 1, 0, 0, 0.3

                    Rectangle:
                        pos: self.pos
                        size: self.size

                TopLeftButton:
                    icon: 'close'
                    on_press: app.root.go_to("Home", "right")
                    pos_hint: {"right": 1, "top": 1}
            
            MDBoxLayout:
                size_hint_x: 0.8
                orientation: 'vertical'
                spacing: "5dp"

                HeaderLabel:
                    id: header_label
                    text: ""

                SubHeaderLabel:
                    text: "Komanda:"

                TextLabel:
                    id: team_label
                    text: ""
                    font_size: 32
            
            MDBoxLayout:
                size_hint_x: 0.1
                orientation: 'vertical'

                canvas.before:
                    Color:
                        rgba: 1, 0, 0, 0.3

                    Rectangle:
                        pos: self.pos
                        size: self.size

                TopLeftButton:
                    icon: 'fast-forward-outline'
                    on_press: root.go_to_turn_statistics()
                    pos_hint: {"right": 1, "top": 1}

        MiddleBoxH:

            # Filler
            MDBoxLayout:
                size_hint_x: 0.1
                orientation: 'vertical'

            MDBoxLayout:
                orientation: 'vertical'
                spacing: "10dp"

                # Game card
                MDBoxLayout:
                    size_hint: 0.8, 0.5
                    orientation: "vertical"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    MDCard:

                        MDLabel:
                            id: guess_word
                            text: root.current_word
                            halign: 'center'
                            valign: 'center'
                            font_size: 64
                            bold: True

                # Game buttons
                MDBoxLayout:
                    size_hint: 0.8, 0.1
                    spacing: "10dp"
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}

                    MDRoundFlatButton:
                        id: word_skipped_btn
                        text: "IZLAIST"
                        font_size: 32
                        line_width: 2
                        text_color: "#FF0000"
                        line_color: "#FF0000"
                        pos_hint: {"center_x": 0.25, "center_y": 0.5}
                        size_hint: 0.5, 0.5
                        on_release: root.skip_word()

                    MDRoundFlatButton:
                        id: word_guessed_btn
                        text: "UZMINÄ’T"
                        font_size: 32
                        line_width: 2
                        text_color: "#00FF00"
                        line_color: "#00FF00"
                        pos_hint: {"center_x": 0.75, "center_y": 0.5}
                        size_hint: 0.5, 0.5
                        on_release: root.guess_word()
                
            # Time progress bar and label
            MDBoxLayout:
                size_hint_x: 0.1
                orientation: 'vertical'

                MDLabel:
                    id: timer_label
                    size_hint_y: 0.1
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    text: "60"
                    # color: 
                    halign: 'center'
                    valign: 'center'
                    font_size: 32
                    bold: True

                MDProgressBar:
                    id: timer_bar
                    size_hint: 0.5, 0.9
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    orientation: "vertical"
                    value: 60
                    max: 60
                    color: "#00FF00"

        BottomBoxV:
            id: bottom_layout
