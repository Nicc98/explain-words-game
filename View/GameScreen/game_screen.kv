#: import GameScreen View.GameScreen.game_screen.GameScreen

<GameScreen>:
    name: "Game"

    MDBoxLayout:
        orientation: 'vertical'
        padding: "10dp"
        spacing: "10dp"
        
        ### Top
        MDBoxLayout:
            size_hint_y: 0.15
            orientation: 'vertical'
            spacing: "10dp"

            # Round number, current team
            MDLabel:
                id: round_label
                text: "Round " + root.current_round_number
                font_size: 72
                halign: 'center'
                valign: 'center'
                bold: True
                color: "#ffffff"

            MDLabel:
                text: "Komanda:"
                font_size: 48
                halign: 'center'
                valign: 'center'
                bold: True
                color: "#ffffff"

            MDLabel:
                id: team_label
                text: ""
                font_size: 48
                halign: 'center'
                valign: 'center'
                bold: True
                color: "#ffffff"

        ### Middle
        MDBoxLayout:
            size_hint_y: 0.75
            padding: "10dp"
            spacing: "10dp"

            # Filler
            MDBoxLayout:
                size_hint_x: 0.1
                orientation: 'vertical'

            # Game card and buttons
            MDBoxLayout:
                orientation: 'vertical'
                spacing: "10dp"

                MDBoxLayout:
                    size_hint: 0.8, 0.5
                    orientation: "vertical"
                    pos_hint: {"center_x": .5, "center_y": .5}

                    MDCard:

                        MDLabel:
                            id: guess_word
                            text: root.no_word_text
                            halign: 'center'
                            valign: 'center'
                            font_size: 64
                            bold: True

                MDBoxLayout:
                    size_hint: 0.8, 0.1
                    spacing: "10dp"
                    pos_hint: {"center_x": .5, "center_y": .5}

                    MDRaisedButton:
                        id: word_skipped_btn
                        text: "Izlaist"
                        bold: True
                        pos_hint: {"center_x": 0.25, "center_y": 0.5}
                        size_hint: 0.5, 0.5
                        on_release: root.show_new_word()

                    MDRaisedButton:
                        id: word_guessed_btn
                        text: "Uzminēts"
                        bold: True
                        pos_hint: {"center_x": 0.25, "center_y": 0.5}
                        size_hint: 0.5, 0.5
                        on_release: root.add_score()
                
            # Time progress bar and label
            MDBoxLayout:
                size_hint_x: 0.1
                orientation: 'vertical'

                MDLabel:
                    id: timer_label
                    size_hint_y: 0.1
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    text: "60"
                    color: "#ffffff"
                    halign: 'center'
                    valign: 'center'
                    font_size: 32
                    bold: True

                MDProgressBar:
                    id: timer_bar
                    size_hint: 0.5, 0.9
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    orientation: "vertical"
                    value: 60
                    max: 60
                    color: "#00FF00"

        ### Bottom
        MDBoxLayout:
            id: bottom_layout
            size_hint_y: 0.1
            orientation: 'vertical'

            MDRoundFlatButton:
                id: start_game_btn
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                text: "Sākt"
                font_size: 48
                text_color: app.storage_manager.get_color('light_blue')
                line_width: 2
                line_color: app.storage_manager.get_color('blue')
                on_release: root.start_game()
